<html>
  <head>
    <style>
      body {
        font-family: sans-serif;
      }
    </style>
    <script>
      const fills = ["#ffffff", "#ff0000", "#0000ff", "#00ff00", "#ffff00"];

      const handleClick = (e) => {
        const currIndex = e.target.getAttribute("data-fill");
        if (currIndex < fills.length - 1) {
          e.target.setAttribute("fill", fills[parseInt(currIndex) + 1]);

          e.target.setAttribute("data-fill", parseInt(currIndex) + 1);
        } else {
          e.target.setAttribute("fill", fills[1]);
          e.target.setAttribute("data-fill", "1");
        }
      };

      document.addEventListener("DOMContentLoaded", function () {
        const allRects = document.getElementsByTagName("rect");
        const allPolygons = document.getElementsByTagName("polygon");
        const allShapes = [...allRects, ...allPolygons];
        for (let i = 0; i < allShapes.length; i++) {
          allShapes[i].addEventListener("click", handleClick, false);
          allShapes[i].setAttribute("data-fill", "0");
        }
      });

      const handleChangeColor = (e) => {
        const newColor = e.value;
        console.log(e.id);
        const colorToChange = parseInt(e.id.replace("color", ""));
        console.log(colorToChange);
        const oldColor = fills[colorToChange];
        fills[colorToChange] = newColor;

        const allRects = document.getElementsByTagName("rect");
        const allPolygons = document.getElementsByTagName("polygon");
        const allShapes = [...allRects, ...allPolygons];
        for (let i = 0; i < allShapes.length; i++) {
          if (
            parseInt(allShapes[i].getAttribute("data-fill")) == colorToChange
          ) {
            allShapes[i].setAttribute("fill", newColor);
            allShapes[i].setAttribute("data-fill", `${colorToChange}`);
          }
        }
      };
    </script>
  </head>

  <body>
    <p>
      In the April 1, 1975 isue of Scientific American, Martin Gardner wrote
      that "William McGregor, a graph theorist of Wappingers Falls, NY,
      constructed a map of 110 regions that cannot be colored with fewer than
      five colors." This was, of course, an April Fools' prank, and apparently
      by the time he owned up in July, "hundreds" of readers had sent in a
      four-color solution. Can you color the below map with only four colors?
    </p>
    <p>
      You can also alter the colors (for fun or for aesthetic experimentation)
      using the buttons below.
    </p>
    <div
      style="
        flex-direction: row;
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: space-around;
      "
    >
      <div
        style="
          flex-basis: content;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <input
          type="color"
          id="color1"
          value="#ff0000"
          oninput="handleChangeColor(this)"
        /><br /><label for="color1">Change color 1</label>
      </div>
      <div
        style="
          flex-basis: content;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <input
          type="color"
          id="color2"
          value="#0000ff"
          oninput="handleChangeColor(this)"
        /><br /><label for="color2">Change color 2</label>
      </div>
      <div
        style="
          flex-basis: content;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <input
          type="color"
          id="color3"
          value="#00ff00"
          oninput="handleChangeColor(this)"
        /><br /><label for="color3">Change color 3</label>
      </div>
      <div
        style="
          flex-basis: content;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <input
          type="color"
          id="color4"
          value="#ffff00"
          oninput="handleChangeColor(this)"
        /><br /><label for="color4">Change color 4</label>
      </div>
    </div>
    <br />
    <svg
      version="1.1"
      id="Layer_1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      x="0px"
      y="0px"
      width="420px"
      height="440px"
      viewBox="0 0 420 440"
      enable-background="new 0 0 420 440"
      xml:space="preserve"
    >
      <g>
        <rect
          id="area_N2X2"
          x="40"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X3"
          x="80"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X4"
          x="120"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X5"
          x="160"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X6"
          x="200"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X7"
          x="240"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X8"
          x="280"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N2X9"
          x="320"
          y="20"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X2"
          x="60"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X3"
          x="100"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X4"
          x="140"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X5"
          x="180"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X6"
          x="220"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X7"
          x="260"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N3X8"
          x="300"
          y="40"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X2"
          x="80"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X3"
          x="120"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X4"
          x="160"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X5"
          x="200"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X6"
          x="240"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N4X7"
          x="280"
          y="60"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N5X2"
          x="100"
          y="80"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N5X3"
          x="140"
          y="80"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N5X4"
          x="180"
          y="80"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N5X5"
          x="220"
          y="80"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N5X6"
          x="260"
          y="80"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N6X2"
          x="120"
          y="100"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N6X3"
          x="160"
          y="100"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N6X4"
          x="200"
          y="100"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N6X5"
          x="240"
          y="100"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N7X2"
          x="140"
          y="120"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N7X3"
          x="180"
          y="120"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N7X4"
          x="220"
          y="120"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N8X2"
          x="160"
          y="140"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N8X3"
          x="200"
          y="140"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N9X2"
          x="180"
          y="160"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N11X1"
          x="180"
          y="200"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="40"
        />
        <rect
          id="area_N13X2"
          x="180"
          y="260"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N14X2"
          x="160"
          y="280"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N14X3"
          x="200"
          y="280"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N15X2"
          x="140"
          y="300"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N15X3"
          x="180"
          y="300"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N15X4"
          x="220"
          y="300"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N16X2"
          x="120"
          y="320"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N16X3"
          x="160"
          y="320"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N16X4"
          x="200"
          y="320"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N16X5"
          x="240"
          y="320"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N17X2"
          x="100"
          y="340"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N17X3"
          x="140"
          y="340"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N17X4"
          x="180"
          y="340"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N17X5"
          x="220"
          y="340"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N17X6"
          x="260"
          y="340"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X2"
          x="80"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X3"
          x="120"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X4"
          x="160"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X5"
          x="200"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X6"
          x="240"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N18X7"
          x="280"
          y="360"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X2"
          x="60"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X3"
          x="100"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X4"
          x="140"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X5"
          x="180"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X6"
          x="220"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X7"
          x="260"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N19X8"
          x="300"
          y="380"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X2"
          x="40"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X3"
          x="80"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X4"
          x="120"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X5"
          x="160"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X6"
          x="200"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X7"
          x="240"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X8"
          x="280"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <rect
          id="area_N20X9"
          x="320"
          y="400"
          fill="#FFFFFF"
          stroke="#000000"
          width="40"
          height="20"
        />
        <polygon
          id="area_N13X3"
          fill="#FFFFFF"
          stroke="#000000"
          points="230,220 230,260 220,260 220,280 250,280 250,220 	"
        />
        <polygon
          id="area_N13X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="170,220 170,260 180,260 180,280 150,280 150,220 	"
        />
        <polygon
          id="area_N12X2"
          fill="#FFFFFF"
          stroke="#000000"
          points="220,220 220,240 200,240 200,260 230,260 230,220 	"
        />
        <polygon
          id="area_N12X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="180,220 180,240 200,240 200,260 170,260 170,220 	"
        />
        <polygon
          id="area_N10X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="180,220 180,200 200,200 200,180 160,180 160,220 	"
        />
        <polygon
          id="area_N10X2"
          fill="#FFFFFF"
          stroke="#000000"
          points="220,220 220,200 200,200 200,180 240,180 240,220 	"
        />
        <polygon
          id="area_N9X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="160,220 160,180 180,180 180,160 140,160 140,220 	"
        />
        <polygon
          id="area_N9X3"
          fill="#FFFFFF"
          stroke="#000000"
          points="240,220 240,180 220,180 220,160 260,160 260,220 	"
        />
        <polygon
          id="area_N8X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="160,160 140,160 140,220 120,220 120,140 160,140 	"
        />
        <polygon
          id="area_N8X4"
          fill="#FFFFFF"
          stroke="#000000"
          points="240,160 260,160 260,220 280,220 280,140 240,140 	"
        />
        <polygon
          id="area_N7X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="140,140 120,140 120,220 100,220 100,120 140,120 	"
        />
        <polygon
          id="area_N6X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="120,120 100,120 100,220 80,220 80,100 120,100 	"
        />
        <polygon
          id="area_N5X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="100,100 80,100 80,220 60,220 60,80 100,80 	"
        />
        <polygon
          id="area_N4X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="80,80 60,80 60,220 40,220 40,60 80,60 	"
        />
        <polygon
          id="area_N3X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="60,60 40,60 40,220 20,220 20,40 60,40 	"
        />
        <polygon
          id="area_N21X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="40,40 20,40 20,420 220,420 220,440 0,440 0,20 40,20 	"
        />
        <polygon
          id="area_N7X5"
          fill="#FFFFFF"
          stroke="#000000"
          points="260,140 280,140 280,220 300,220 300,120 260,120 	"
        />
        <polygon
          id="area_N6X6"
          fill="#FFFFFF"
          stroke="#000000"
          points="280,120 300,120 300,220 320,220 320,100 280,100 	"
        />
        <polygon
          id="area_N5X7"
          fill="#FFFFFF"
          stroke="#000000"
          points="300,100 320,100 320,220 340,220 340,80 300,80 	"
        />
        <polygon
          id="area_N4X8"
          fill="#FFFFFF"
          stroke="#000000"
          points="320,80 340,80 340,220 360,220 360,60 320,60 	"
        />
        <polygon
          id="area_N15X5"
          fill="#FFFFFF"
          stroke="#000000"
          points="260,300 270,300 270,220 290,220 290,320 260,320 	"
        />
        <polygon
          id="area_N16X6"
          fill="#FFFFFF"
          stroke="#000000"
          points="280,320 290,320 290,220 310,220 310,340 280,340 	"
        />
        <polygon
          id="area_N17X7"
          fill="#FFFFFF"
          stroke="#000000"
          points="300,340 310,340 310,220 330,220 330,360 300,360 	"
        />
        <polygon
          id="area_N18X8"
          fill="#FFFFFF"
          stroke="#000000"
          points="320,360 330,360 330,220 350,220 350,380 320,380 	"
        />
        <polygon
          id="area_N3X9"
          fill="#FFFFFF"
          stroke="#000000"
          points="340,60 360,60 360,220 380,220 380,40 340,40 	"
        />
        <polygon
          id="area_N14X4"
          fill="#FFFFFF"
          stroke="#000000"
          points="250,220 250,280 240,280 240,300 270,300 270,220 	"
        />
        <polygon
          id="area_N19X9"
          fill="#FFFFFF"
          stroke="#000000"
          points="340,380 350,380 350,220 370,220 370,400 340,400 	"
        />
        <polygon
          id="area_N15X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="140,300 130,300 130,220 110,220 110,320 140,320 	"
        />
        <polygon
          id="area_N16X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="120,320 110,320 110,220 90,220 90,340 120,340 	"
        />
        <polygon
          id="area_N17X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="100,340 90,340 90,220 70,220 70,360 100,360 	"
        />
        <polygon
          id="area_N18X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="80,360 70,360 70,220 50,220 50,380 80,380 	"
        />
        <polygon
          id="area_N14X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="150,220 150,280 160,280 160,300 130,300 130,220 	"
        />
        <polygon
          id="area_N19X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="60,380 50,380 50,220 30,220 30,400 60,400 	"
        />
        <rect
          id="area_N21X2"
          x="220"
          y="420"
          fill="#FFFFFF"
          stroke="#000000"
          width="200"
          height="20"
        />
        <polygon
          id="area_N20X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="40,400 30,400 30,220 20,220 20,420 40,420 	"
        />
        <polygon
          id="area_N2X10"
          fill="#FFFFFF"
          stroke="#000000"
          points="360,40 380,40 380,220 400,220 400,20 360,20 	"
        />
        <polygon
          id="area_N1X1"
          fill="#FFFFFF"
          stroke="#000000"
          points="0,20 400,20 400,220 370,220 370,400 360,400 360,420 420,420 
		420,0 0,0 	"
        />
      </g>
    </svg>
  </body>
</html>
